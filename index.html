<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Simple Pac-Man Game</title>
<style>
  body {
    background: black;
    color: white;
    font-family: monospace;
    text-align: center;
  }
  canvas {
    background: #000;
    display: block;
    margin: 20px auto;
    border: 2px solid #222;
  }
  #score {
    font-size: 20px;
    margin-top: 10px;
  }
</style>
</head>
<body>
  <h1>Simple Pac-Man Game</h1>
  <canvas id="game" width="400" height="400"></canvas>
  <div id="score">Score: 0</div>

  <script>
    const canvas = document.getElementById('game');
    const ctx = canvas.getContext('2d');

    const tileSize = 20;
    const rows = canvas.height / tileSize;
    const cols = canvas.width / tileSize;

    // Simple map layout: 0=empty, 1=wall, 2=dot
    const map = [
      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
      [1,2,2,2,1,2,2,2,2,2,2,2,2,2,1,2,2,2,2,1],
      [1,2,1,2,1,2,1,1,1,1,1,1,1,2,1,2,1,2,2,1],
      [1,2,1,2,2,2,2,2,2,1,0,0,1,2,2,2,1,2,2,1],
      [1,2,1,1,1,1,1,1,2,1,0,0,1,1,1,1,1,2,2,1],
      [1,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,1,1,1,1,2,1,1,1,0,0,1,1,1,1,1,1,2,1],
      [1,2,2,2,2,1,2,2,2,1,0,0,1,2,2,2,2,2,2,1],
      [1,1,1,1,2,1,1,1,2,1,1,1,1,2,1,1,1,1,1,1],
      [1,2,2,2,2,2,2,1,2,2,2,2,2,2,1,2,2,2,2,1],
      [1,2,1,1,1,1,2,1,1,1,1,1,1,2,1,2,1,1,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,1],
      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
    ];

    let pacman = {
      x: 1,
      y: 1,
      dirX: 0,
      dirY: 0,
      radius: tileSize/2 - 2
    };

    let score = 0;

    function drawMap() {
      for(let r=0; r < map.length; r++) {
        for(let c=0; c < map[r].length; c++) {
          const tile = map[r][c];
          if(tile === 1) {
            ctx.fillStyle = 'blue';
            ctx.fillRect(c*tileSize, r*tileSize, tileSize, tileSize);
          } else {
            ctx.fillStyle = 'black';
            ctx.fillRect(c*tileSize, r*tileSize, tileSize, tileSize);
            if(tile === 2) {
              ctx.fillStyle = 'white';
              const centerX = c*tileSize + tileSize/2;
              const centerY = r*tileSize + tileSize/2;
              ctx.beginPath();
              ctx.arc(centerX, centerY, 4, 0, 2*Math.PI);
              ctx.fill();
            }
          }
        }
      }
    }

    function drawPacman() {
      const centerX = pacman.x * tileSize + tileSize/2;
      const centerY = pacman.y * tileSize + tileSize/2;

      ctx.fillStyle = 'yellow';
      ctx.beginPath();
      // Pacman mouth animation
      let mouthOpen = 0.25 * Math.PI;
      ctx.moveTo(centerX, centerY);
      ctx.arc(centerX, centerY, pacman.radius, mouthOpen, 2*Math.PI - mouthOpen);
      ctx.closePath();
      ctx.fill();
    }

    function movePacman() {
      const newX = pacman.x + pacman.dirX;
      const newY = pacman.y + pacman.dirY;

      if(newY >= 0 && newY < map.length && newX >= 0 && newX < map[0].length) {
        if(map[newY][newX] !== 1) { // not a wall
          pacman.x = newX;
          pacman.y = newY;

          // Eat dot
          if(map[newY][newX] === 2) {
            map[newY][newX] = 0;
            score++;
            document.getElementById('score').textContent = 'Score: ' + score;
          }
        }
      }
    }

    function gameLoop() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      drawMap();
      drawPacman();
      movePacman();
      requestAnimationFrame(gameLoop);
    }

    document.addEventListener('keydown', e => {
      switch(e.key) {
        case 'ArrowUp':
          pacman.dirX = 0; pacman.dirY = -1;
          break;
        case 'ArrowDown':
          pacman.dirX = 0; pacman.dirY = 1;
          break;
        case 'ArrowLeft':
          pacman.dirX = -1; pacman.dirY = 0;
          break;
        case 'ArrowRight':
          pacman.dirX = 1; pacman.dirY = 0;
          break;
      }
    });

    gameLoop();
  </script>
</body>
</html>
