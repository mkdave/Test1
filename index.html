<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Hello World with Live Prices</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 2em;
    }
    h1 {
      color: #333;
    }
    ul {
      list-style: none;
      padding-left: 0;
    }
    li {
      margin-bottom: 0.5em;
      font-size: 1.2em;
    }
  </style>
</head>
<body>
  <h1>Hello, World!!!!!!</h1>

  <div>
    <h2>Current Prices</h2>
    <ul id="prices">
      <li>MSFT: <span id="msft">Loading...</span></li>
      <li>AMZN: <span id="amzn">Loading...</span></li>
    </ul>
  </div>

  <script>
    const API_KEY = 'YOUR_ALPHA_VANTAGE_API_KEY'; // Replace with your API key

	async function fetchStockPrice(symbol, elementId) {
	  const url = `https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${symbol}&apikey=${API_KEY}`;
	  try {
		const res = await fetch(url);
		const data = await res.json();
		console.log(`Alpha Vantage response for ${symbol}:`, data);
		const price = data['Global Quote']?.['05. price'];
		document.getElementById(elementId).textContent = price ? `$${parseFloat(price).toFixed(2)}` : 'N/A';
	  } catch (error) {
		console.error('Error fetching price for', symbol, error);
		document.getElementById(elementId).textContent = 'Error';
	  }
	}

    async function fetchCoinGeckoPrice(id, elementId) {
      const url = `https://api.coingecko.com/api/v3/simple/price?ids=${id}&vs_currencies=usd`;
      try {
        const res = await fetch(url);
        const data = await res.json();
        const price = data[id]?.usd;
        document.getElementById(elementId).textContent = price ? `$${price.toLocaleString()}` : 'N/A';
      } catch {
        document.getElementById(elementId).textContent = 'Error';
      }
    }

    async function updatePrices() {
      await Promise.all([
        fetchStockPrice('MSFT', 'msft'),
        fetchStockPrice('AMZN', 'amzn'),
      ]);
    }

    updatePrices();
    setInterval(updatePrices, 5000);  
  </script>
</body>
</html>
